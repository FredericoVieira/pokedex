{"version":3,"sources":["ui/pokemon/cmp-pokemon.js","ui/search/cmp-search.js","ui/page/cmp-page.js","ui/page/cnt-page.js","actions/pokemons.js","reducers/pokemons.js","reducers/index.js","index.js","store/configure-store.js"],"names":["Pokemon","pokemon","this","props","react_default","a","createElement","className","type","style","backgroundImage","concat","id","name","PureComponent","Search","_ref","onChange","value","placeholder","autoFocus","Page","state","searchString","pokemonsIds","error","handleSearch","event","currentTarget","toLowerCase","trim","collection","_this","hardtack","set","maxAge","setState","Object","keys","filter","pokemonId","includes","_this2","getPokemons","then","action","payload","message","get","_this$state","_this$props","isFetched","pokemons","map","key","cmp_pokemon","cmp_search","Component","mapDispatchToProps","options","arguments","length","undefined","dispatch","_options$limit","limit","defineProperty","RSAA","endpoint","method","types","connect","initialState","combineReducers","objectSpread","results","reduce","accumulator","item","url","substring","store","middlewares","thunkMiddleware","apiMiddleware","composeEnhancers","compose","createStore","rootReducer","applyMiddleware","apply","configureStore","render","es","cnt_page","document","getElementById"],"mappings":"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","file":"static/js/main.791ba49d.chunk.js","sourcesContent":["import React, { PureComponent } from 'react'\n\nclass Pokemon extends PureComponent {\n  render() {\n    const { pokemon } = this.props\n\n    return (\n      <div className=\"pokemon\">\n        <button\n          type=\"button\"\n          className=\"pokemon__sprite\"\n          style={{\n            backgroundImage: `url(${`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${\n              pokemon.id\n            }.png`})`\n          }}\n        />\n        <p className=\"pokemon__name\">{pokemon.name}</p>\n      </div>\n    )\n  }\n}\n\nexport default Pokemon\n","import React from 'react'\n\nconst Search = ({ onChange, value }) => (\n  <input\n    type=\"text\"\n    onChange={onChange}\n    value={value}\n    placeholder=\"Enter pokemon name...\"\n    autoFocus\n  />\n)\n\nexport default Search\n","import React, { Component } from 'react'\nimport hardtack from 'hardtack'\nimport Pokemon from '../pokemon/cmp-pokemon'\nimport Search from '../search/cmp-search'\n\nclass Page extends Component {\n  state = {\n    searchString: '',\n    pokemonsIds: [],\n    error: null\n  }\n\n  componentDidMount() {\n    this.props.getPokemons().then(action => {\n      if (action.error) {\n        return this.setState({\n          error: action.payload.message\n        })\n      }\n\n      const searchString = hardtack.get('searchString')\n      const { collection } = this.props\n\n      if (!searchString) {\n        return this.setState({\n          pokemonsIds: Object.keys(collection)\n        })\n      }\n\n      const pokemonsIds = Object.keys(collection).filter(pokemonId => {\n        const pokemon = collection[pokemonId]\n\n        return pokemon.name.includes(searchString)\n      })\n\n      this.setState({\n        pokemonsIds,\n        searchString\n      })\n    })\n  }\n\n  handleSearch = event => {\n    const value = event.currentTarget.value.toLowerCase().trim()\n    const { collection } = this.props\n\n    hardtack.set('searchString', value, {\n      maxAge: '31536000'\n    })\n\n    if (value === '') {\n      return this.setState({\n        pokemonsIds: Object.keys(collection),\n        searchString: value\n      })\n    }\n\n    const pokemonsIds = Object.keys(collection).filter(pokemonId => {\n      const pokemon = collection[pokemonId]\n\n      return pokemon.name.includes(value)\n    })\n\n    this.setState({\n      pokemonsIds,\n      searchString: value\n    })\n  }\n\n  render() {\n    const { searchString, pokemonsIds, error } = this.state\n    const { collection, isFetched } = this.props\n\n    const pokemons = pokemonsIds.map(pokemonId => {\n      const pokemon = collection[pokemonId]\n\n      return (\n        <li className=\"pokemons__item\" key={pokemon.id}>\n          <Pokemon pokemon={pokemon} />\n        </li>\n      )\n    })\n\n    return (\n      <div className=\"page\">\n        {error && <div className=\"page__error\">{error}</div>}\n        <div className=\"page__search\">\n          <Search onChange={this.handleSearch} value={searchString} />\n        </div>\n        {isFetched ? (\n          <p>Loading...</p>\n        ) : (\n          <ul className=\"pokemons\">{pokemons}</ul>\n        )}\n      </div>\n    )\n  }\n}\n\nexport default Page\n","import { connect } from 'react-redux'\nimport { getPokemons } from '../../actions/pokemons'\nimport Page from './cmp-page'\n\nfunction mapStateToProps(state) {\n  const { collection } = state.pokemons\n\n  return {\n    collection\n  }\n}\n\nconst mapDispatchToProps = {\n  getPokemons\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Page)\n","import { RSAA } from 'redux-api-middleware'\n\nexport const GET_POKEMONS_REQUEST = 'GET_POKEMONS_REQUEST'\nexport const GET_POKEMONS_SUCCESS = 'GET_POKEMONS_SUCCESS'\nexport const GET_POKEMONS_FAILURE = 'GET_POKEMONS_FAILURE'\n\nexport const getPokemons = (options = {}) => dispatch => {\n  const { limit = 784 } = options\n\n  return dispatch({\n    [RSAA]: {\n      endpoint: `https://pokeapi.co/api/v2/pokemon/?limit=${limit}`,\n      method: 'GET',\n      types: [\n        'GET_POKEMONS_REQUEST',\n        'GET_POKEMONS_SUCCESS',\n        'GET_POKEMONS_FAILURE'\n      ]\n    }\n  })\n}\n","import {\n  GET_POKEMONS_REQUEST,\n  GET_POKEMONS_SUCCESS,\n  GET_POKEMONS_FAILURE\n} from '../actions/pokemons'\n\nconst initialState = {\n  collection: {},\n  isFetched: false\n}\n\nexport default function(state = initialState, action) {\n  switch (action.type) {\n    case GET_POKEMONS_REQUEST:\n      return {\n        ...state,\n        isFetched: true\n      }\n\n    case GET_POKEMONS_SUCCESS:\n      return {\n        ...state,\n        collection: {\n          ...state.collection,\n          ...action.payload.results.reduce((accumulator, item) => {\n            const { url } = item\n            const id = url.substring(34, url.length - 1)\n\n            return {\n              ...accumulator,\n              [id]: {\n                id,\n                ...item\n              }\n            }\n          }, {})\n        },\n        isFetched: false\n      }\n\n    case GET_POKEMONS_FAILURE:\n      return {\n        ...state,\n        isFetched: false\n      }\n\n    default:\n      return state\n  }\n}\n","import { combineReducers } from 'redux'\nimport pokemons from './pokemons'\n\nexport default combineReducers({\n  pokemons\n})\n","import React from 'react'\nimport { render } from 'react-dom'\nimport { Provider } from 'react-redux'\nimport Page from './ui/page/cnt-page'\nimport configureStore from './store/configure-store'\n\nimport './style/main.css'\n\nconst store = configureStore()\n\nrender(\n  <Provider store={store}>\n    <Page />\n  </Provider>,\n  document.getElementById('root')\n)\n","import { createStore, applyMiddleware, compose } from 'redux'\nimport thunkMiddleware from 'redux-thunk'\nimport { apiMiddleware } from 'redux-api-middleware'\nimport { createLogger } from 'redux-logger'\nimport rootReducer from '../reducers'\n\nexport default function configureStore(initialState = {}) {\n  const middlewares = [thunkMiddleware, apiMiddleware]\n\n  let composeEnhancers = compose\n\n  if (process.env.NODE_ENV === 'development') {\n    if ('__REDUX_DEVTOOLS_EXTENSION_COMPOSE__' in window) {\n      composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n    }\n\n    const loggerMiddleware = createLogger()\n    middlewares.push(loggerMiddleware)\n  }\n\n  return createStore(\n    rootReducer,\n    initialState,\n    composeEnhancers(applyMiddleware(...middlewares))\n  )\n}\n"],"sourceRoot":""}